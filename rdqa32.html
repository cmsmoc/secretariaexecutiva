<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard SUS Digital - Telemedicina</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .card { @apply bg-white p-6 rounded-xl shadow-sm border border-slate-200; }
        .status-badge { @apply px-3 py-1 rounded-full text-xs font-semibold; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="mb-8 border-b border-slate-200 pb-6">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div>
                    <h1 class="text-3xl font-bold text-slate-800 tracking-tight">SUS Digital - Monitoramento</h1>
                    <p class="text-slate-500 mt-1">Coordenadoria de Telemedicina | Atenção Primária</p>
                </div>
                <div class="bg-blue-50 text-blue-700 p-3 rounded-lg border border-blue-100 max-w-md">
                    <p class="text-xs font-bold uppercase tracking-wider mb-1">Diretriz</p>
                    <p class="text-sm leading-tight">Ampliar o acesso à população implantando protocolos, rotinas e capacitando equipes.</p>
                </div>
            </div>
        </header>

        <!-- KPI Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="card flex items-center gap-4">
                <div class="p-3 bg-green-100 text-green-600 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                </div>
                <div>
                    <p class="text-slate-500 text-sm">Capacitações (2025)</p>
                    <h2 class="text-2xl font-bold text-slate-800">09 <span class="text-sm font-normal text-green-600">(Meta: 4)</span></h2>
                </div>
            </div>
            <div class="card flex items-center gap-4 border-l-4 border-l-amber-400">
                <div class="p-3 bg-amber-100 text-amber-600 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
                </div>
                <div>
                    <p class="text-slate-500 text-sm">Kits de Telessaúde</p>
                    <h2 class="text-2xl font-bold text-slate-800">01 <span class="text-sm font-normal text-slate-400">(Meta: 11)</span></h2>
                </div>
            </div>
            <div class="card flex items-center gap-4 border-l-4 border-l-red-400">
                <div class="p-3 bg-red-100 text-red-600 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><line x1="19" y1="8" x2="19" y2="14"></line><line x1="22" y1="11" x2="16" y2="11"></line></svg>
                </div>
                <div>
                    <p class="text-slate-500 text-sm">Contratação TI</p>
                    <h2 class="text-2xl font-bold text-slate-800">00 <span class="text-sm font-normal text-red-500">Pendente</span></h2>
                </div>
            </div>
        </div>

        <!-- Charts Row -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Progress Chart -->
            <div class="card">
                <h3 class="text-lg font-semibold mb-4 text-slate-800">Desempenho por Meta (%)</h3>
                <div class="h-64">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
            
            <!-- RDQA Breakdown -->
            <div class="card">
                <h3 class="text-lg font-semibold mb-4 text-slate-800">Distribuição Trimestral (Capacitações)</h3>
                <div class="h-64">
                    <canvas id="rdqaChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Detailed Table View -->
        <div class="card overflow-hidden">
            <h3 class="text-lg font-semibold mb-6 text-slate-800">Status Detalhado das Ações</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-slate-50 border-b border-slate-200">
                            <th class="p-4 font-semibold text-slate-600 text-sm">Ação</th>
                            <th class="p-4 font-semibold text-slate-600 text-sm text-center">Progresso</th>
                            <th class="p-4 font-semibold text-slate-600 text-sm">Status</th>
                            <th class="p-4 font-semibold text-slate-600 text-sm">Justificativa Crítica</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                            <td class="p-4">
                                <p class="font-medium text-slate-800">Formação e Cultura Digital</p>
                                <span class="text-xs text-slate-400 italic">Portaria 3.232 / 3.534</span>
                            </td>
                            <td class="p-4">
                                <div class="w-full bg-slate-100 rounded-full h-2">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 100%"></div>
                                </div>
                                <p class="text-[10px] text-right mt-1 font-bold text-green-600">225% (Superado)</p>
                            </td>
                            <td class="p-4">
                                <span class="status-badge bg-green-100 text-green-700">CONCLUÍDO</span>
                            </td>
                            <td class="p-4 text-sm text-slate-600">
                                9 capacitações realizadas, superando o plano original de 4.
                            </td>
                        </tr>
                        <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                            <td class="p-4">
                                <p class="font-medium text-slate-800">Aquisição de Kits Telessaúde</p>
                                <span class="text-xs text-slate-400 italic">Novo PAC</span>
                            </td>
                            <td class="p-4">
                                <div class="w-full bg-slate-100 rounded-full h-2">
                                    <div class="bg-amber-500 h-2 rounded-full" style="width: 9%"></div>
                                </div>
                                <p class="text-[10px] text-right mt-1 font-bold text-amber-600">9% (Gargalo Externo)</p>
                            </td>
                            <td class="p-4">
                                <span class="status-badge bg-amber-100 text-amber-700">EM ATRASO</span>
                            </td>
                            <td class="p-4 text-sm text-slate-600">
                                Ministério aprovou apenas 01 kit dos 11 solicitados. Entrega prevista 2026.
                            </td>
                        </tr>
                        <tr class="hover:bg-slate-50 transition-colors">
                            <td class="p-4">
                                <p class="font-medium text-slate-800">Contratação Analista/Programador</p>
                                <span class="text-xs text-slate-400 italic">Apoio Implementação</span>
                            </td>
                            <td class="p-4">
                                <div class="w-full bg-slate-100 rounded-full h-2">
                                    <div class="bg-red-400 h-2 rounded-full" style="width: 0%"></div>
                                </div>
                                <p class="text-[10px] text-right mt-1 font-bold text-red-400">0% (Pendente)</p>
                            </td>
                            <td class="p-4">
                                <span class="status-badge bg-red-100 text-red-700">EM ANÁLISE</span>
                            </td>
                            <td class="p-4 text-sm text-slate-600">
                                Processo administrativo ainda em análise.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <footer class="mt-8 text-center text-slate-400 text-xs">
            Relatório gerado em 2025 - Monitoramento Estratégico Telemedicina
        </footer>
    </div>

    <script>
        // Charts Initialization
        window.onload = function() {
            // Bar Chart: Performance vs Meta
            const ctxPerf = document.getElementById('performanceChart').getContext('2d');
            new Chart(ctxPerf, {
                type: 'bar',
                data: {
                    labels: ['Capacitações', 'Kits Adquiridos', 'Contratação TI'],
                    datasets: [
                        {
                            label: 'Meta Planejada',
                            data: [4, 11, 1],
                            backgroundColor: '#e2e8f0',
                            borderRadius: 6
                        },
                        {
                            label: 'Realizado (2025)',
                            data: [9, 1, 0],
                            backgroundColor: (context) => {
                                const index = context.dataIndex;
                                return index === 0 ? '#22c55e' : (index === 1 ? '#f59e0b' : '#ef4444');
                            },
                            borderRadius: 6
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, grid: { display: false } },
                        x: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });

            // Line Chart: RDQA Progression
            const ctxRdqa = document.getElementById('rdqaChart').getContext('2d');
            new Chart(ctxRdqa, {
                type: 'line',
                data: {
                    labels: ['1º RDQA', '2º RDQA', '3º RDQA'],
                    datasets: [{
                        label: 'Capacitações Realizadas',
                        data: [3, 4, 2],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 6,
                        pointBackgroundColor: '#fff',
                        pointBorderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 6 },
                        x: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        };
    </script>
</body>
</html>
