<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Confirmação de Presença – CMS</title>

<style>
body {
    font-family: Inter, Arial, sans-serif;
    background: #f4f6f8;
    padding: 30px;
}

h1 {
    font-size: 22px;
    margin-bottom: 24px;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
}

.card {
    background: #fff;
    border: 1px solid #dcdcdc;
    border-radius: 8px;
    padding: 16px;
    transition: all 0.2s ease;
}

.card:hover {
    background: #f0f0f0;
}

.card.active {
    border-color: #000;
}

.card.confirmado {
    background: #e6f4ea;
    border-color: #2e7d32;
}

.card.justificado {
    background: #fdecea;
    border-color: #c62828;
}

.name {
    font-weight: 600;
    cursor: pointer;
}

.actions {
    display: none;
    margin-top: 12px;
}

.card.active .actions {
    display: block;
}

button {
    padding: 6px 12px;
    margin-top: 8px;
    margin-right: 6px;
    border-radius: 4px;
    border: 1px solid #000;
    background: #fff;
    cursor: pointer;
}

button.primary {
    background: #000;
    color: #fff;
}

select, input[type="text"] {
    width: 100%;
    padding: 6px;
    margin-top: 8px;
}
</style>
</head>

<body>

<h1>Confirmação de Presença – Conselho Municipal de Saúde</h1>

<form id="form"
  action="https://docs.google.com/forms/d/e/1FAIpQLSf8OzdnyNoyaMWPUFKb189v5lRG5a4X9HKnwhZlc0CnM2vR_w/formResponse"
  method="POST"
  target="hidden_iframe"
>

<input type="hidden" name="entry.1269404299" id="nome">
<input type="hidden" name="entry.1651111226" id="presenca">
<input type="hidden" name="entry.1304754079" id="justificativa">

<div class="grid" id="lista"></div>

</form>

<iframe name="hidden_iframe" style="display:none;"></iframe>

<script>
const conselheiros = [
"NÃO SOU CONSELHEIRO",
"AGNA SOARES DA SILVA MENEZES",
"ALEXANDRE DOURADO",
"AMANDA MENDES SOARES",
"ANA MARIA PEREIRA DE SOUZA RODRIGUES",
"ANDERSON ALVES SOARES",
"ANDERSON LEONARDO ALVES PEREIRA",
"ANIELLY COSTA SILVA",
"CLÁUDIO LUÍS DE SOUZA SANTOS",
"DALTON CALDEIRA ROCHA",
"DAMÁZIO WLADIMIR SILVA",
"DANIELLA CRISTINA MARTINS DIAS VELOSO",
"DANIELLE SANTOS SOUSA",
"EDMILSON ALVES DA SILVA",
"EDUARDO LUIZ DA SILVA",
"EMANUELA TOMAS DA SILVA CONCEIÇÃO",
"EMILLE EUNICE ANTUNES DIAS MATOS",
"ERNANDES RODRIGUES MORAES",
"FABIANA PEREIRA MORI",
"FARLEY SINDEAUX RIBEIRO",
"FELIPE SOARES AMARAL",
"FERNANDA FAGUNDES AZEVEDO SINDEAUX",
"FERNANDO ANTÔNIO DIAS DE ANDRADE",
"GERALDO DA COSTA SILVA",
"HENRIQUE ANDRADE BARBOSA",
"HERICK RODRIGUES ARAÚJO",
"IMACULADA CONCEIÇÃO BARBOSA",
"IVANY REIS SANTANA",
"JAMILSON GANDRA MOREIRA",
"JAQUELINE RODRIGUES AGUIAR DE CARVALHO",
"JOEL FRANCISCO BORGES",
"JOSÉ DOS REIS RODRIGUES",
"JOSÉ GERALDO RAMOS",
"JÚLIO CÉSAR ARAÚJO LOPES",
"JÚLIO CÉSAR PEREIRA",
"JÚNEO DE JESUS SOUZA",
"KELLY MENDES FAGUNDES",
"LUCIMERE MARTA DE SOUZA AMORIM",
"MÁRCIO CARDOSO DA SILVA",
"MARCOS BORGES OLIVEIRA",
"MARIA CLARA LELIS RAMOS CARDOSO",
"MARIA DOS REIS RIBEIRO DIAS",
"MARIA LEONIDES DE QUEIROZ OLIVEIRA",
"MARIANA CRISTINA MEIRA CAMBUÍ",
"MARILDA BATISTA DA SILVA",
"MAURINA DA SILVA CARVALHO",
"MÔNICA DE FÁTIMA FERNANDES FERREIRA",
"NAIARA OLIVEIRA SILVA",
"NAYRA CRISTINE LACERDA LOURES",
"PATRICIA ANTUNES DOS SANTOS",
"RAFAEL CARVALHO MACIEL",
"RAFAELA DE SOUZA FREITAS",
"RAIMARA GONÇALVES PEREIRA",
"RICARDO SOARES DE OLIVEIRA",
"ROGÉRIO GONÇALVES",
"ROSANA SOARES RUAS",
"RUTH ALVES XAVIER SILVA",
"SANDRA SIMONE MENDES GONÇALVES",
"SANDRA VANELLE FONSECA",
"SHEILLA SILVA MENDES",
"TEREZINHA RAMOS CORDEIRO",
"THIAGO HENRIQUE ALVES DE SOUZA",
"VALCIR SOARES DA SILVA",
"VALDECI ALVES COSTA",
"WASHINGTON LUIS CARVALHO SOUTO",
"WILHAS FERREIRA"
];

const motivos = [
"Compromisso profissional inadiável",
"Atividade laboral previamente agendada",
"Escala de trabalho / plantão",
"Reunião de trabalho convocada de última hora",
"Compromisso de saúde previamente marcado",
"Acompanhamento de familiar em atendimento de saúde",
"Condição de saúde que impossibilitou o comparecimento",
"Demanda familiar urgente",
"Compromisso pessoal inadiável",
"Problemas de deslocamento / transporte",
"Motivo de força maior",
"Outro"
];

const lista = document.getElementById("lista");

conselheiros.forEach(nome => {
    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
        <div class="name">${nome}</div>
        <div class="actions">
            <button type="button" onclick="confirmar(this,'${nome}')">Confirmar presença</button>
            <button type="button" onclick="justificar(this,'${nome}')">Justificar ausência</button>
            <div class="justificativa"></div>
            <button type="button" class="primary" onclick="enviar()">Enviar</button>
        </div>
    `;

    card.querySelector(".name").onclick = () => {
        document.querySelectorAll(".card").forEach(c => c.classList.remove("active"));
        card.classList.add("active");
        document.getElementById("nome").value = nome;
    };

    lista.appendChild(card);
});

function confirmar(btn,nome) {
    const card = btn.closest(".card");
    resetCards();
    card.classList.add("confirmado","active");
    document.getElementById("nome").value = nome;
    document.getElementById("presenca").value = "Confirmo Presença";
    document.getElementById("justificativa").value = "";
}

function justificar(btn,nome) {
    const card = btn.closest(".card");
    resetCards();
    card.classList.add("justificado","active");
    document.getElementById("nome").value = nome;
    document.getElementById("presenca").value = "Quero justificar ausência";

    const container = card.querySelector(".justificativa");
    container.innerHTML = `
        <select onchange="selecionarMotivo(this)">
            <option value="">Selecione o motivo</option>
            ${motivos.map(m => `<option>${m}</option>`).join("")}
        </select>
        <input type="text" placeholder="Descreva o motivo..." style="display:none"
        oninput="document.getElementById('justificativa').value=this.value">
    `;
}

function selecionarMotivo(sel) {
    const input = sel.nextElementSibling;
    if (sel.value === "Outro") {
        input.style.display = "block";
        document.getElementById("justificativa").value = "";
    } else {
        input.style.display = "none";
        document.getElementById("justificativa").value = sel.value;
    }
}

function enviar() {
    document.getElementById("form").submit();
    alert("Registro enviado com sucesso ✔");
}

function resetCards() {
    document.querySelectorAll(".card").forEach(c => {
        c.classList.remove("confirmado","justificado");
        c.querySelector(".justificativa").innerHTML = "";
    });
}
</script>

</body>
</html>
